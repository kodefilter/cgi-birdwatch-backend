(this["webpackJsonpbird-watch-frontend"]=this["webpackJsonpbird-watch-frontend"]||[]).push([[0],{25:function(e,t,n){e.exports=n(50)},30:function(e,t,n){},48:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(18),c=n.n(o),l=(n(30),n(2)),s=n(19),u=n(20),i=n(5),m=n(6),d=n.n(m),b=function(){return d.a.get("api/observations").then((function(e){return e.data}))},p=function(e){return d.a.post("api/observations",e).then((function(e){return e.data}))},f=function(e){var t=e.errorMessage,n=e.successMessage;return null===t&&null===n?null:t?r.a.createElement("div",{className:"error"},t):r.a.createElement("div",{className:"success"},n)};n(48);function h(){var e=Object(s.a)(["\n  padding: 1rem;\n\n  table {\n    border-spacing: 0;\n    border: 1px solid black;\n\n    tr {\n      :last-child {\n        td {\n          border-bottom: 0;\n        }\n      }\n    }\n\n    th,\n    td {\n      margin: 0;\n      padding: 0.5rem;\n      border-bottom: 1px solid black;\n      border-right: 1px solid black;\n\n      :last-child {\n        border-right: 0;\n      }\n    }\n  }\n"]);return h=function(){return e},e}var g=u.a.div(h());function v(e){var t=e.columns,n=e.data,a=Object(i.b)({columns:t,data:n},i.a),o=a.getTableProps,c=a.getTableBodyProps,l=a.headerGroups,s=a.rows,u=a.prepareRow,m=s.slice(0,20);return r.a.createElement(r.a.Fragment,null,r.a.createElement("table",o(),r.a.createElement("thead",null,l.map((function(e){return r.a.createElement("tr",e.getHeaderGroupProps(),e.headers.map((function(e){return r.a.createElement("th",e.getHeaderProps(e.getSortByToggleProps()),e.render("Header"),r.a.createElement("span",null,e.isSorted?e.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""))})))}))),r.a.createElement("tbody",c(),m.map((function(e,t){return u(e),r.a.createElement("tr",e.getRowProps(),e.cells.map((function(e){return r.a.createElement("td",e.getCellProps(),e.render("Cell"))})))})))),r.a.createElement("br",null),r.a.createElement("div",null,"Showing the first 20 results of ",s.length," rows"))}var E=function(){var e=Object(a.useState)([{}]),t=Object(l.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(""),s=Object(l.a)(c,2),u=s[0],i=s[1],m=Object(a.useState)("common"),d=Object(l.a)(m,2),h=d[0],E=d[1],w=Object(a.useState)(""),O=Object(l.a)(w,2),j=O[0],y=O[1],S=Object(a.useState)(null),k=Object(l.a)(S,2),P=k[0],x=k[1],C=Object(a.useState)(null),H=Object(l.a)(C,2),M=H[0],N=H[1];Object(a.useEffect)((function(){b().then((function(e){o(e)}))}),[]);var R=r.a.useMemo((function(){return[{Header:"Name",accessor:"name"},{Header:"Rarity",accessor:"rarity"},{Header:"Notes",accessor:"notes"},{Header:"Date",accessor:"timestamp"}]}),[]),T=r.a.useMemo((function(){return n}),[n]);return r.a.createElement("div",{class:"main-container"},r.a.createElement(g,null,r.a.createElement("p",null,"Clicking on the header sorts the column in ascending or decending order !"),r.a.createElement("h1",null,"Bird Observation Table"),r.a.createElement(f,{errorMessage:P,successMessage:M}),r.a.createElement(v,{columns:R,data:T}),r.a.createElement("div",{class:"form-section"},r.a.createElement("h2",null,"Add new observation"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t={name:u,rarity:h,notes:j,timestamp:new Date};p(t).then((function(e){o(n.concat(e)),i(""),y(""),N("".concat(e.name," has been added")),setTimeout((function(){N(null)}),3e3)})).catch((function(e){i(""),y(""),x(e.response.data.error),setTimeout((function(){N(null)}),3e3)}))}},"Add Name",r.a.createElement("input",{value:u,onChange:function(e){i(e.target.value)}}),"Pick Rarity",r.a.createElement("select",{value:h,onChange:function(e){E(e.target.value)}},r.a.createElement("option",{value:"common"},"Common"),r.a.createElement("option",{value:"rare"},"Rare"),r.a.createElement("option",{value:"extremely rare"},"Extremely Rare")),"Add Notes ",r.a.createElement("textarea",{rows:"5",cols:"25",value:j,onChange:function(e){y(e.target.value)}}),r.a.createElement("br",null),r.a.createElement("button",{type:"submit"},"Add Observation")))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[25,1,2]]]);
//# sourceMappingURL=main.bcde7ce1.chunk.js.map